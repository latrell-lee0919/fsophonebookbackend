{"version":3,"sources":["components/Persons.js","components/Filter.js","components/PersonForm.js","services/entries.js","components/Notification.js","components/Error.js","App.js","index.js"],"names":["Persons","props","name","number","onClick","removePerson","Filter","value","newFilter","onChange","handleFilterChange","PersonForm","onSubmit","addName","newName","handleNameChange","newNumber","handleNumberChange","type","baseUrl","axios","get","then","response","data","newEntry","post","id","put","delete","Notification","message","className","Error","App","useState","persons","setPersons","setNewName","setNewNumber","setNewFilter","setMessage","errorMessage","setErrorMessage","useEffect","entryService","startingEntries","event","target","preventDefault","nameObject","length","match","i","window","alert","person","find","p","returnedEntry","map","catch","error","setTimeout","concat","filter","toUpperCase","includes","confirm","console","log","remainingEntries","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.51d60f0b.chunk.js","sourcesContent":["import React from 'react'\n\nconst Persons = (props) => {\n    return (\n        <div>\n            <div>\n                {props.name} {props.number}\n                <button onClick={props.removePerson}>delete</button>\n            </div>\n        </div>\n    )\n};\n\nexport default Persons","import React from 'react'\n\nconst Filter = (props) => {\n    return (\n        <div>\n          filter shown with <input value={props.newFilter} onChange={props.handleFilterChange}/>\n        </div>\n    )\n}\n\nexport default Filter","import React from 'react'\n\nconst PersonForm = (props) => {\n    return (\n        <div>\n            <form onSubmit={props.addName}>\n                <div>\n                name: <input value={props.newName} onChange={props.handleNameChange} />\n                </div>\n                <div>\n                number: <input value={props.newNumber} onChange={props.handleNumberChange}/>\n                </div>\n                <div>\n                <button type=\"submit\">add</button>\n                </div>\n            </form>\n        </div>\n    )\n}\n\nexport default PersonForm","import axios from \"axios\";\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n    const request = axios.get(baseUrl)\n    return request.then(response => response.data)\n}\n\nconst create = (newEntry) => {\n    const request = axios.post(baseUrl, newEntry)\n    return request.then(response => response.data)\n}\n\nconst update = (id, newEntry) => {\n    const request = axios.put(`${baseUrl}/${id}`, newEntry)\n    return request.then(response => response.data)\n}\n\nconst remove = (id) => {\n    const request = axios.delete(`${baseUrl}/${id}`)\n    return request.then(response => response)\n}\n\n// eslint-disable-next-line import/no-anonymous-default-export\nexport default { getAll, create, update, remove }","import React from 'react'\n\nconst Notification = ({ message }) => {\n    if(message === null) {\n        return null\n    }\n\n    return (\n        <div className=\"success\">\n            {message}\n        </div>\n    )\n}\n\nexport default Notification","import React from 'react'\n\nconst Error = ({ message }) => {\n    if(message === null) {\n        return null\n    }\n\n    return (\n        <div className=\"error\">\n            {message}\n        </div>\n    )\n}\n\nexport default Error","import React, { useState, useEffect } from 'react'\nimport Persons from './components/Persons'\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport entryService from './services/entries'\nimport Notification from './components/Notification'\nimport Error from './components/Error'\n\nconst App = () => {\n  const [ persons, setPersons ] = useState([]) \n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ newFilter, setNewFilter ] = useState('')\n  const [message, setMessage] = useState(null)\n  const [errorMessage, setErrorMessage] = useState(null)\n\n  useEffect(() => {\n    entryService\n    .getAll()\n    .then(startingEntries => {\n      setPersons(startingEntries)\n    })\n  }, [])\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const handleFilterChange = (event) => {\n    setNewFilter(event.target.value)\n  }\n\n  const addName = (event) => {\n    event.preventDefault()\n    const nameObject = {\n      name: newName,\n      number: newNumber,\n      id: persons.length + 1\n    }\n    \n    let match = false;\n\n    for(let i = 0; i < persons.length; i++) {\n      if (persons[i].name === nameObject.name) {\n        window.alert(`${newName} is already added to phonebook, replace the old number with a new one?`)\n        match = true;\n      }\n    }\n\n    if(match) {\n      const person = persons.find(p => p.name === nameObject.name);\n      const id = person.id\n      const newEntry = {...person, number: newNumber}\n      entryService\n      .update(person.id, newEntry)\n      .then(returnedEntry => {\n        setPersons(persons.map(person => person.id !== id ? person : returnedEntry))\n      })\n      .catch(error => {\n        setErrorMessage(\n          `Information for ${nameObject.name} has already been removed from server`\n        )\n        setTimeout(() => {\n          setErrorMessage(null)\n        }, 5000)\n        setNewName('')\n        setNewNumber('')\n      })\n    }\n\n    if (!match) {\n      entryService\n      .create(nameObject)\n      .then(returnedEntry => {\n        setPersons(persons.concat(returnedEntry))\n        setMessage(\n          `Added ${nameObject.name}`\n        )\n        setTimeout(() => {\n          setMessage(null)\n        }, 5000)\n        setNewName('')\n        setNewNumber('')\n      })\n    }\n  }\n\n\n\n  const removePerson = (id) => {\n    const person = persons.find(p => p.id === id)\n    if(window.confirm(`Delete ${person.name}?`)) {\n      console.log(`removing ${person.name}`)\n      entryService\n      .remove(id)\n      .then(remainingEntries => {\n        return entryService.getAll()\n      })\n      .then(remainingEntries => setPersons(remainingEntries))\n    }\n}\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={message}/>\n      <Error message={errorMessage} />\n      <Filter newFilter={newFilter} handleFilterChange={handleFilterChange} />\n      <h3>Add a new</h3>\n      <PersonForm \n      addName={addName} \n      newName={newName} handleNameChange={handleNameChange}\n      newNumber={newNumber} handleNumberChange={handleNumberChange}\n      />\n      <h2>Numbers</h2>\n      <div>\n        {persons.filter(person => person.name.toUpperCase().includes(newFilter.toUpperCase())).map(person =>\n          <Persons \n          key={person.id} \n          name={person.name} \n          number={person.number}\n          removePerson={() => removePerson(person.id)}\n          />\n          )}\n      </div>\n    </div>\n  )\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css'\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}